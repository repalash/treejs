/*! For license information please see tree.js.LICENSE.txt */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Tree=n():e.Tree=n()}(self,(function(){return function(){"use strict";var e={820:function(e,n,t){var r=t(537),o=t.n(r),s=t(645),i=t.n(s)()(o());i.push([e.id,".treejs {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  font-size: 14px;\n  margin-left: -18px;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n.treejs *:after,\n.treejs *:before {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.treejs > .treejs-node {\n  padding-left: 0;\n}\n.treejs .treejs-nodes {\n  list-style: none;\n  padding-left: 18px;\n  margin: 0;\n  overflow: hidden;\n  -webkit-transition: height 150ms ease-out, opacity 150ms ease-out;\n  -o-transition: height 150ms ease-out, opacity 150ms ease-out;\n  transition: height 150ms ease-out, opacity 150ms ease-out;\n}\n.treejs .treejs-node {\n  cursor: pointer;\n  overflow: hidden;\n}\n.treejs .treejs-node.treejs-placeholder {\n  padding-left: 18px;\n}\n.treejs .treejs-switcher {\n  display: inline-block;\n  vertical-align: middle;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  position: relative;\n  -webkit-transition: -webkit-transform 150ms ease-out;\n  transition: -webkit-transform 150ms ease-out;\n  -o-transition: transform 150ms ease-out;\n  transition: transform 150ms ease-out;\n  transition: transform 150ms ease-out, -webkit-transform 150ms ease-out;\n}\n.treejs .treejs-switcher:before {\n  position: absolute;\n  top: 8px;\n  left: 6px;\n  display: block;\n  content: ' ';\n  border: 4px solid transparent;\n  border-top: 4px solid rgba(245, 245, 245, 0.7);\n  -webkit-transition: border-color 150ms;\n  -o-transition: border-color 150ms;\n  transition: border-color 150ms;\n}\n.treejs .treejs-switcher:hover:before {\n  border-top: 4px solid rgba(245, 245, 245, 0.96);\n}\n.treejs .treejs-node__close > .treejs-switcher {\n  -webkit-transform: rotate(-90deg);\n      -ms-transform: rotate(-90deg);\n          transform: rotate(-90deg);\n}\n.treejs .treejs-node__close > .treejs-nodes {\n  height: 0;\n}\n.treejs .treejs-checkbox {\n  display: inline-block;\n  vertical-align: middle;\n  width: 20px;\n  height: 20px;\n  cursor: pointer;\n  position: relative;\n}\n.treejs .treejs-checkbox:before {\n  -webkit-transition: all 0.3s;\n  -o-transition: all 0.3s;\n  transition: all 0.3s;\n  cursor: pointer;\n  position: absolute;\n  top: 2px;\n  content: ' ';\n  display: block;\n  width: 16px;\n  height: 16px;\n  border: 1px solid #d9d9d9;\n  border-radius: 2px;\n}\n.treejs .treejs-checkbox:hover:before {\n  -webkit-box-shadow: 0 0 2px 1px #1890ff;\n          box-shadow: 0 0 2px 1px #1890ff;\n}\n.treejs .treejs-node__checked > .treejs-checkbox:before {\n  background-color: #1890ff;\n  border-color: #1890ff;\n}\n.treejs .treejs-node__checked > .treejs-checkbox:after {\n  position: absolute;\n  content: ' ';\n  display: block;\n  top: 4px;\n  left: 5px;\n  width: 5px;\n  height: 9px;\n  border: 2px solid #fff;\n  border-top: none;\n  border-left: none;\n  -webkit-transform: rotate(45deg);\n      -ms-transform: rotate(45deg);\n          transform: rotate(45deg);\n}\n.treejs .treejs-node__halfchecked > .treejs-checkbox:before {\n  background-color: #1890ff;\n  border-color: #1890ff;\n}\n.treejs .treejs-node__halfchecked > .treejs-checkbox:after {\n  position: absolute;\n  content: ' ';\n  display: block;\n  top: 9px;\n  left: 3px;\n  width: 10px;\n  height: 2px;\n  background-color: #fff;\n}\n.treejs .treejs-node__disabled {\n  cursor: not-allowed;\n  color: rgba(255, 255, 255, 0.25);\n}\n.treejs .treejs-node__disabled .treejs-checkbox {\n  cursor: not-allowed;\n}\n.treejs .treejs-node__disabled .treejs-checkbox:before {\n  cursor: not-allowed;\n  border-color: #d9d9d9 !important;\n  background-color: #f5f5f5 !important;\n}\n.treejs .treejs-node__disabled .treejs-checkbox:hover:before {\n  -webkit-box-shadow: none !important;\n          box-shadow: none !important;\n}\n.treejs .treejs-node__disabled .treejs-node__checked > .treejs-checkbox:after {\n  border-color: #d9d9d9;\n}\n.treejs .treejs-node__disabled .treejs-node__halfchecked > .treejs-checkbox:after {\n  background-color: #d9d9d9;\n}\n.treejs .treejs-node__disabled.treejs-node__checked > .treejs-checkbox:after {\n  border-color: #d9d9d9;\n}\n.treejs .treejs-node__disabled.treejs-node__halfchecked > .treejs-checkbox:after {\n  background-color: #d9d9d9;\n}\n.treejs .treejs-label {\n  vertical-align: middle;\n}\n","",{version:3,sources:["webpack://./src/index.less"],names:[],mappings:"AAKA;EACE,8BAAA;UAAA,sBAAA;EACA,eAAA;EACA,kBAAA;EACA,yBAAA;KAAA,sBAAA;MAAA,qBAAA;UAAA,iBAAA;AAJF;AAAA;;EAQI,8BAAA;UAAA,sBAAA;AAJJ;AAOE;EACE,eAAA;AALJ;AAPA;EAgBI,gBAAA;EACA,kBAAA;EACA,SAAA;EACA,gBAAA;EACA,iEAAA;EAAA,4DAAA;EAAA,yDAAA;AANJ;AAdA;EAwBI,eAAA;EACA,gBAAA;AAPJ;AASI;EACE,kBAAA;AAPN;AArBA;EAiCI,qBAAA;EACA,sBAAA;EACA,WAAA;EACA,YAAA;EACA,eAAA;EACA,kBAAA;EACA,oDAAA;EAAA,4CAAA;EAAA,uCAAA;EAAA,oCAAA;EAAA,sEAAA;AATJ;AAWI;EACE,kBAAA;EACA,QAAA;EACA,SAAA;EACA,cAAA;EACA,YAAA;EACA,6BAAA;EACA,8CAAA;EACA,sCAAA;EAAA,iCAAA;EAAA,8BAAA;AATN;AAWI;EACE,+CAAA;AATN;AA3CA;EAwDI,iCAAA;MAAA,6BAAA;UAAA,yBAAA;AAVJ;AA9CA;EA2DI,SAAA;AAVJ;AAjDA;EA+DI,qBAAA;EACA,sBAAA;EACA,WAAA;EACA,YAAA;EACA,eAAA;EACA,kBAAA;AAXJ;AAaI;EACE,4BAAA;EAAA,uBAAA;EAAA,oBAAA;EACA,eAAA;EACA,kBAAA;EACA,QAAA;EACA,YAAA;EACA,cAAA;EACA,WAAA;EACA,YAAA;EACA,yBAAA;EACA,kBAAA;AAXN;AAaI;EACE,uCAAA;UAAA,+BAAA;AAXN;AAgBM;EACE,yBAAA;EACA,qBAAA;AAdR;AAgBM;EACE,kBAAA;EACA,YAAA;EACA,cAAA;EACA,QAAA;EACA,SAAA;EACA,UAAA;EACA,WAAA;EACA,sBAAA;EACA,gBAAA;EACA,iBAAA;EACA,gCAAA;MAAA,4BAAA;UAAA,wBAAA;AAdR;AAoBM;EACE,yBAAA;EACA,qBAAA;AAlBR;AAoBM;EACE,kBAAA;EACA,YAAA;EACA,cAAA;EACA,QAAA;EACA,SAAA;EACA,WAAA;EACA,WAAA;EACA,sBAAA;AAlBR;AAvGA;EA+HI,mBAAA;EACA,gCAAA;AArBJ;AA3GA;EAkIM,mBAAA;AApBN;AAqBM;EACE,mBAAA;EACA,gCAAA;EACA,oCAAA;AAnBR;AAqBM;EACE,mCAAA;UAAA,2BAAA;AAnBR;AAwBQ;EACE,qBAAA;AAtBV;AA4BQ;EACE,yBAAA;AA1BV;AAiCM;EACE,qBAAA;AA/BR;AAqCM;EACE,yBAAA;AAnCR;AAlIA;EA2KI,sBAAA;AAtCJ",sourcesContent:["@color-disable: #d4d4d4;\n@bgcolor-disable: #f5f5f5;\n@greyborder: #d9d9d9;\n@bluebg: #1890ff;\n\n.treejs {\n  box-sizing: border-box;\n  font-size: 14px;\n  margin-left: -18px;\n  user-select: none;\n\n  *:after,\n  *:before {\n    box-sizing: border-box;\n  }\n\n  & > .treejs-node {\n    padding-left: 0;\n  }\n\n  .treejs-nodes {\n    list-style: none;\n    padding-left: 18px;\n    margin: 0; //  for default ul...\n    overflow: hidden;\n    transition: height 150ms ease-out, opacity 150ms ease-out;\n  }\n\n  .treejs-node {\n    cursor: pointer;\n    overflow: hidden;\n\n    &.treejs-placeholder {\n      padding-left: 18px;\n    }\n  }\n\n  .treejs-switcher {\n    display: inline-block;\n    vertical-align: middle;\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n    position: relative;\n    transition: transform 150ms ease-out;\n\n    &:before {\n      position: absolute;\n      top: 8px;\n      left: 6px;\n      display: block;\n      content: ' ';\n      border: 4px solid transparent;\n      border-top: 4px solid rgba(245, 245, 245, 0.7);\n      transition: border-color 150ms;\n    }\n    &:hover:before {\n      border-top: 4px solid rgba(245, 245, 245, 0.96);\n    }\n  }\n  .treejs-node__close > .treejs-switcher {\n    transform: rotate(-90deg);\n  }\n  .treejs-node__close > .treejs-nodes {\n    height: 0;\n  }\n\n  .treejs-checkbox {\n    display: inline-block;\n    vertical-align: middle;\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n    position: relative;\n\n    &:before {\n      transition: all 0.3s;\n      cursor: pointer;\n      position: absolute;\n      top: 2px;\n      content: ' ';\n      display: block;\n      width: 16px;\n      height: 16px;\n      border: 1px solid @greyborder;\n      border-radius: 2px;\n    }\n    &:hover:before {\n      box-shadow: 0 0 2px 1px @bluebg;\n    }\n  }\n  .treejs-node__checked {\n    & > .treejs-checkbox {\n      &:before {\n        background-color: @bluebg;\n        border-color: @bluebg;\n      }\n      &:after {\n        position: absolute;\n        content: ' ';\n        display: block;\n        top: 4px;\n        left: 5px;\n        width: 5px;\n        height: 9px;\n        border: 2px solid #fff;\n        border-top: none;\n        border-left: none;\n        transform: rotate(45deg);\n      }\n    }\n  }\n  .treejs-node__halfchecked {\n    & > .treejs-checkbox {\n      &:before {\n        background-color: @bluebg;\n        border-color: @bluebg;\n      }\n      &:after {\n        position: absolute;\n        content: ' ';\n        display: block;\n        top: 9px;\n        left: 3px;\n        width: 10px;\n        height: 2px;\n        background-color: #fff;\n      }\n    }\n  }\n\n  .treejs-node__disabled {\n    cursor: not-allowed;\n    color: rgba(255, 255, 255, 0.25);\n    .treejs-checkbox {\n      cursor: not-allowed;\n      &:before {\n        cursor: not-allowed;\n        border-color: @greyborder !important;\n        background-color: @bgcolor-disable !important;\n      }\n      &:hover:before {\n        box-shadow: none !important;\n      }\n    }\n    .treejs-node__checked {\n      & > .treejs-checkbox {\n        &:after {\n          border-color: @greyborder;\n        }\n      }\n    }\n    .treejs-node__halfchecked {\n      & > .treejs-checkbox {\n        &:after {\n          background-color: @greyborder;\n        }\n      }\n    }\n  }\n  .treejs-node__disabled.treejs-node__checked {\n    & > .treejs-checkbox {\n      &:after {\n        border-color: @greyborder;\n      }\n    }\n  }\n  .treejs-node__disabled.treejs-node__halfchecked {\n    & > .treejs-checkbox {\n      &:after {\n        background-color: @greyborder;\n      }\n    }\n  }\n\n  .treejs-label {\n    vertical-align: middle;\n  }\n}\n"],sourceRoot:""}]),n.Z=i},645:function(e){e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var a=0;a<this.length;a++){var A=this[a][0];null!=A&&(i[A]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);r&&i[d[0]]||(void 0!==s&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=s),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),n.push(d))}},n}},537:function(e){e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),s="/*# ".concat(o," */"),i=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(i).concat([s]).join("\n")}return[n].join("\n")}},379:function(e){var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var s={},i=[],a=0;a<e.length;a++){var A=e[a],c=r.base?A[0]+r.base:A[0],d=s[c]||0,l="".concat(c," ").concat(d);s[c]=d+1;var u=t(l),f={css:A[1],media:A[2],sourceMap:A[3],supports:A[4],layer:A[5]};if(-1!==u)n[u].references++,n[u].updater(f);else{var p=o(f,r);r.byIndex=a,n.splice(a,0,{identifier:l,updater:p,references:1})}i.push(l)}return i}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var s=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var a=t(s[i]);n[a].references--}for(var A=r(e,o),c=0;c<s.length;c++){var d=t(s[c]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}s=A}}},216:function(e){e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},636:function(e,n,t){e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:function(e){e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var s=t.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:function(e){e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var s=n[r]={id:r,exports:{}};return e[r](s,s.exports,t),s.exports}t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n},t.d=function(e,n){for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.nc=void 0;var r={};return function(){t.d(r,{default:function(){return _}});var e=t(379),n=t.n(e),o=t(795),s=t.n(o),i=t(636),a=t.n(i),A=t(216),c=t.n(A),d=t(589),l=t.n(d),u=t(820),f={};u.Z&&u.Z.locals&&(f.locals=u.Z.locals);var p,h=0,b={};b.styleTagTransform=l(),b.setAttributes=a(),b.insert=function(e,n){(n.target||document.head).appendChild(e)},b.domAPI=s(),b.insertStyleElement=c(),f.use=function(e){return b.options=e||{},h++||(p=n()(u.Z,b)),f},f.unuse=function(){h>0&&!--h&&(p(),p=null)};var y=f;function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,s=[],i=!0,a=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(s.push(r.value),!n||s.length!==n);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(a)throw o}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return j(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?j(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){E(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function k(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e){var n={};return e.reduce((function(e,t){return n[t]||(n[t]=!0,e.push(t)),e}),[])}function x(e,n){requestAnimationFrame((function(){n.enter(),requestAnimationFrame((function(){n.active(),setTimeout((function(){n.leave()}),e)}))}))}function B(e,n){try{var t=e.liElementsById[n.parent.id];t.classList.contains("treejs-node__close")||t.getElementsByClassName("treejs-switcher")[0].click()}catch(e){return}Object.prototype.hasOwnProperty.call(n,"parent")&&B(e,n.parent)}function w(e,n){var t=e.liElementsById[n.id];t.classList.contains("treejs-node__close")&&t.getElementsByClassName("treejs-switcher")[0].click(),Object.prototype.hasOwnProperty.call(n,"children")&&n.children.forEach((function(n){return w(e,n)}))}var _=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),y.use({target:"string"==typeof this.container?document.querySelector(this.container):this.container}),this.treeNodes=[],this.nodesById={},this.leafNodesById={},this.liElementsById={},this.willUpdateNodesById={},this.container=n,this.options=Object.assign({selectMode:"checkbox",values:[],disables:[],loaded:null,closeDepth:null},t),Object.defineProperties(this,{values:{get:function(){return this.getValues()},set:function(e){this.setValues(C(e))}},disables:{get:function(){return this.getDisables()},set:function(e){this.setDisables(C(e))}},selectedNodes:{get:function(){var e=[],n=this.nodesById;return Object.keys(n).forEach((function(t){if(Object.prototype.hasOwnProperty.call(n,t)&&(1===n[t].status||2===n[t].status)){var r=g({},n[t]);delete r.parent,delete r.children,e.push(r)}})),e}},disabledNodes:{get:function(){var e=[],n=this.nodesById;return Object.keys(n).forEach((function(t){if(Object.prototype.hasOwnProperty.call(n,t)&&n[t].disabled){var r=g({},n[t]);delete r.parent,e.push(r)}})),e}}}),this.init(this.options.data)}var n,t,r;return n=e,r=[{key:"onSwitcherClick",value:function(e){var n=e.parentNode,t=n.lastChild,r=t.scrollHeight;n.classList.contains("treejs-node__close")?x(150,{enter:function(){t.style.height=0,t.style.opacity=0},active:function(){t.style.height="".concat(r,"px"),t.style.opacity=1},leave:function(){t.style.height="",t.style.opacity="",n.classList.remove("treejs-node__close")}}):x(150,{enter:function(){t.style.height="".concat(r,"px"),t.style.opacity=1},active:function(){t.style.height=0,t.style.opacity=0},leave:function(){t.style.height="",t.style.opacity="",n.classList.add("treejs-node__close")}})}},{key:"parseTreeData",value:function(e){var n,t=(n=e,JSON.parse(JSON.stringify(n))),r={},o={},s=[],i=[];return function e(n,t){n.forEach((function(n){r[n.id]=n,n.checked&&s.push(n.id),n.disabled&&i.push(n.id),t&&(n.parent=t),n.children&&n.children.length?e(n.children,n):o[n.id]=n}))}(t),{treeNodes:t,nodesById:r,leafNodesById:o,defaultValues:s,defaultDisables:i}}},{key:"createRootEle",value:function(){var e=document.createElement("div");return e.classList.add("treejs"),e}},{key:"createUlEle",value:function(){var e=document.createElement("ul");return e.classList.add("treejs-nodes"),e}},{key:"createLiEle",value:function(e,n){var t=document.createElement("li");if(t.classList.add("treejs-node"),n&&t.classList.add("treejs-node__close"),e.children&&e.children.length){var r=document.createElement("span");r.classList.add("treejs-switcher"),t.appendChild(r)}else t.classList.add("treejs-placeholder");var o=document.createElement("span");o.classList.add("treejs-checkbox"),t.appendChild(o);var s=document.createElement("span");s.classList.add("treejs-label");var i=document.createTextNode(e.text);return s.appendChild(i),t.appendChild(s),t.nodeId=e.id,t}}],(t=[{key:"init",value:function(n){var t=e.parseTreeData(n),r=t.treeNodes,o=t.nodesById,s=t.leafNodesById,i=t.defaultValues,a=t.defaultDisables;this.treeNodes=r,this.nodesById=o,this.leafNodesById=s,this.render(this.treeNodes);var A=this.options,c=A.values,d=A.disables,l=A.loaded;c&&c.length?this.setValues(c):i&&i.length&&this.setValues(i),d&&d.length?this.setDisables(d):a&&a.length&&this.setDisables(a),"function"==typeof l&&l.call(this)}},{key:"render",value:function(n){var t=e.createRootEle();t.appendChild(this.buildTree(n,0)),this.bindEvent(t);var r="string"==typeof this.container?document.querySelector(this.container):this.container;!function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}(r),r.appendChild(t)}},{key:"buildTree",value:function(n,t){var r=this,o=e.createUlEle();return n&&n.length&&n.forEach((function(n){var s=e.createLiEle(n,t===r.options.closeDepth-1);r.liElementsById[n.id]=s;var i=null;n.children&&n.children.length&&(i=r.buildTree(n.children,t+1)),i&&s.appendChild(i),o.appendChild(s)})),o}},{key:"bindEvent",value:function(n){var t=this;n.addEventListener("click",(function(n){var r=n.target;"SPAN"===r.nodeName&&r.classList.contains("treejs-checkbox")?t.onItemClick(r.parentNode.nodeId):"SPAN"===r.nodeName&&r.classList.contains("treejs-label")?t.onItemLabelClick(r.parentNode.nodeId):"LI"===r.nodeName&&r.classList.contains("treejs-node")?t.onItemClick(r.nodeId):"SPAN"===r.nodeName&&r.classList.contains("treejs-switcher")&&e.onSwitcherClick(r)}),!1)}},{key:"onItemClick",value:function(e){var n=this.nodesById[e],t=this.options.onChange;n.disabled||(this.setValue(e),this.updateLiElements()),t&&t.call(this)}},{key:"onItemLabelClick",value:function(e){var n=this.options.onItemLabelClick;n&&n.call(this,e)}},{key:"setValue",value:function(e){var n=this.nodesById[e];if(n){var t=n.status,r=1===t||2===t?0:2;n.status=r,this.markWillUpdateNode(n),this.walkUp(n,"status"),this.walkDown(n,"status")}}},{key:"getValues",value:function(){var e=this,n=[];return Object.keys(this.leafNodesById).forEach((function(t){Object.prototype.hasOwnProperty.call(e.leafNodesById,t)&&(1!==e.leafNodesById[t].status&&2!==e.leafNodesById[t].status||n.push(t))})),n}},{key:"setValues",value:function(e){var n=this;this.emptyNodesCheckStatus(),e.forEach((function(e){n.setValue(e)})),this.updateLiElements();var t=this.options.onChange;t&&t.call(this)}},{key:"setDisable",value:function(e){var n=this.nodesById[e];n&&(n.disabled||(n.disabled=!0,this.markWillUpdateNode(n),this.walkUp(n,"disabled"),this.walkDown(n,"disabled")))}},{key:"getDisables",value:function(){var e=this,n=[];return Object.keys(this.leafNodesById).forEach((function(t){Object.prototype.hasOwnProperty.call(e.leafNodesById,t)&&e.leafNodesById[t].disabled&&n.push(t)})),n}},{key:"setDisables",value:function(e){var n=this;this.emptyNodesDisable(),e.forEach((function(e){n.setDisable(e)})),this.updateLiElements()}},{key:"emptyNodesCheckStatus",value:function(){this.willUpdateNodesById=this.getSelectedNodesById(),Object.values(this.willUpdateNodesById).forEach((function(e){e.disabled||(e.status=0)}))}},{key:"emptyNodesDisable",value:function(){this.willUpdateNodesById=this.getDisabledNodesById(),Object.values(this.willUpdateNodesById).forEach((function(e){e.disabled=!1}))}},{key:"getSelectedNodesById",value:function(){return Object.entries(this.nodesById).reduce((function(e,n){var t=v(n,2),r=t[0],o=t[1];return 1!==o.status&&2!==o.status||(e[r]=o),e}),{})}},{key:"getDisabledNodesById",value:function(){return Object.entries(this.nodesById).reduce((function(e,n){var t=v(n,2),r=t[0],o=t[1];return o.disabled&&(e[r]=o),e}),{})}},{key:"updateLiElements",value:function(){var e=this;Object.values(this.willUpdateNodesById).forEach((function(n){e.updateLiElement(n)})),this.willUpdateNodesById={}}},{key:"markWillUpdateNode",value:function(e){this.willUpdateNodesById[e.id]=e}},{key:"walkUp",value:function(e,n){var t=e.parent;if(t){if("status"===n){var r,o=t.children.reduce((function(e,n){return Number.isNaN(n.status)?e:e+n.status}),0);if(r=o?o===2*t.children.length?2:1:0,t.status===r)return;t.status=r}else{var s=t.children.reduce((function(e,n){return e&&n.disabled}),!0);if(t.disabled===s)return;t.disabled=s}this.markWillUpdateNode(t),this.walkUp(t,n)}}},{key:"walkDown",value:function(e,n){var t=this;e.children&&e.children.length&&e.children.forEach((function(r){"status"===n&&r.disabled||(r[n]=e[n],t.markWillUpdateNode(r),t.walkDown(r,n))}))}},{key:"updateLiElement",value:function(e){var n=this.liElementsById[e.id].classList;switch(e.status){case 0:n.remove("treejs-node__halfchecked","treejs-node__checked");break;case 1:n.remove("treejs-node__checked"),n.add("treejs-node__halfchecked");break;case 2:n.remove("treejs-node__halfchecked"),n.add("treejs-node__checked")}switch(e.disabled){case!0:n.contains("treejs-node__disabled")||n.add("treejs-node__disabled");break;case!1:n.contains("treejs-node__disabled")&&n.remove("treejs-node__disabled")}}},{key:"collapseAll",value:function(){var e=this;Object.keys(this.leafNodesById).forEach((function(n){var t=e.leafNodesById[n];B(e,t)}))}},{key:"expandAll",value:function(){w(this,this.treeNodes[0])}}])&&k(n.prototype,t),r&&k(n,r),Object.defineProperty(n,"prototype",{writable:!1}),e}()}(),r.default}()}));
//# sourceMappingURL=tree.js.map